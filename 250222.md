## EC2

중지 후 재실행시 퍼블릭IP가 바뀜 > 바뀌지 않게 하고싶으면 탄력적IP설정하면 됨(유료)<br>

리눅스일경우<br>

/dev/sda1<br>
/dev/sdh<br>
/dev/sdj<br>
/dev/sdb<br>

  dev
  - 디바이스
    
  sd(*)(숫자)
  - 장치 파일명
  - 장치 파일명과 폴더를 마운트 해야 사용가능
  - *부분은 드라이버
  - 숫자는 파티션 넘버
   - a드라이버 > 루트

**instance store**<br>
- 임시 저장공간
- ec2와 붙어있음 > 메인보드에 붙어있는 느낌
- ec2가 지워지면 함께 지워짐 > 데이터 남기고싶으면 백업해야함
- EBS보다 성능 좋음 > 빠른 IO를 사용할때 좋음

**CloudShell에 파일 업로드**

*aws.tar 전송

1. 작업 > 파일 업로드 > 파일선택
> 업로드하면 접속한 서버가 아닌 클라우드쉘에 업로드됨(클라우드쉘에서 접속한 서버에는 파일 올릴 수 없음)

2. 서버에 파일 전송
scp -i 펨키 보낼파일 리눅스사용자@도메인:/home/ec2-user/

3. tar 해제
sudo tar xvf aws.tar -C /var/www//html/

## EBS(Elastic Block Store) 볼륨
인스턴스에 사용할 수 있는 블록수준 스토리지 볼륨

**EC2와 EBS의 관계**<br>
EC2(CPU, RAM) - EBS(디스크) >> 네트워크(물리적)로 연결(같은 가용영역에 있어야함)<br>

Instance store보다 성능이 떨어질 수 있으나 EC2가 삭제되었을시 영구볼륨(PV/ Persistant Volume)으로 데이터가 지워지지 않음 ex) DB<br>

Attach/Dettach가능<br>

**EBS볼륨**<br>
스냅샷ID가 같은이유는 같은 OS가 설치되어있기때문<br>

* lsblk > 내 블록 스토리지 목록
* df -Th > T: type / h: 현재 사용량/남은용량/마운트 정보

## Route53

**DNS 서비스**<br>
> IP로 DNS로 매핑하거나 반대의 상황일 때 변환하여 트래픽을 웹 사이트로 라우팅<br>
> DNS resolver가 도메인의 정보를 알고있기 때문에 요청자에게 original ip로 응답<br>
> DNS resolver는 TTL(Time To Live) 생명주기 내에서 캐시로 정보를 저장<br>
> DNS resolver에서 IP를 모를경우 재귀적 리쿼시브 쿼리를 통해서 Root name sever로 ip요청<br>
> 위에서도 모를경우 TLD(Top level domain >> test.com에서 .com)서버에서 물어봄<br>
> TLD에서 Route53한테 물어보면서 최종적으로 웹 브라우저한테 IP를 알려줌<br>


**호스팅 영역**<br>
NS > Name Server<br>
SOA > 권한의 시작<br>

**타사에서 도메인을 사서 매핑하는 경우**<br>
호스팅하기 > 타사에서 구매한 도메인 등록<br>
호스팅된 영역 세부정보에서 NS에 생긴 값/트래픽 라우팅 대상 4가지를 맨 마지막 .제외하고 도메인의 NS에 복붙 등록<br>
CMD에 NS전파된거 확인하기<br>

**CMD**
nslookup -type=ns 도메인 >> NS 전파된거 확인 가능

**레코드 생성**
IP와 도메인을 연결<br>

1. 생성
- 레코드 생성 버튼 클릭
- 레코드 이름
- 레코드 유형
  - A: IPv4 - 도메인
  - AAAA: IPv6 - 도메인
  - CNAME: 도메인 - 도메인
  - MX: 메일서버
  - PTR: 도메인을 IP에 매핑하는게 보통이지만 반대로 IP에 매핑된 도메인을 확인
- 값에 IP정보 입력
- 레코드 생성 버튼 클릭
